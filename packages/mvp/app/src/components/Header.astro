---
import type { CSSProperty } from "astro/types"

type Props = {
  class?: string;
  style?: string | Record<CSSProperty, string>;
  user?: App.Locals["user"];
};
---

<header class={Astro.props.class} style={Astro.props.style}>
  <nav>
    <ul>
      <li><strong><a href="/">CRM</a></strong></li>
    </ul>
    <ul>
      <li>
        {
          Astro.props.user ? (
            <form
              method="post"
              action="/api/v0/auth/logout"
            >
              <input type="submit" value="Logout" />
            </form>
          ) : (
            <a href="/login"><button>Login</button></a>
          )
        }
      </li>
    </ul>
  </nav>
</header>
