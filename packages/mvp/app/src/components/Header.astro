---
import type { CSSProperty } from "astro/types"

type Props = {
  class?: string;
  style?: string | Record<CSSProperty, string>;
  user?: App.Locals["user"];
};
---

<header class={Astro.props.class} style={Astro.props.style}>
  <nav>
    <ul>
      <li><strong><a href="/">CRM</a></strong></li>
    </ul>
    <ul>
      {
        Astro.props.user ? (
          <li><a href="/home">Home</a></li>
          <li><a href="/tasks">Tasks</a></li>
          <li><a href="/accounts">Accounts</a></li>
          <li>
            <form method="post" action="/api/v0/auth/logout">
              <input type="submit" value="Logout" class="secondary" />
            </form>
          </li>
        ) : (
          <li><a role="button" href="/login">Login</a></li>
        )
      }
    </ul>
  </nav>
</header>
