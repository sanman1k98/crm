---
import Layout from "@/layouts/MainLayout.astro";
import { getTaskInfo } from "@/lib/tasks";

const { user } = Astro.locals;

if (!user)
  return Astro.redirect("/login");

const task = await getTaskInfo(Number(Astro.params.id));

if (!task)
  return Astro.redirect("/404");
---

<Layout
  meta={{
    title: task.title,
    description: task.title,
  }}
>
  <div class="container">
    <h1>{task.title}</h1>
  </div>
</Layout>

